# UUID Manager

Mindustry 154.3 客户端侧 UUID/UID 管理模组。

当前版本：`v1.4.1`

## 功能

- 在“加入游戏”界面玩家昵称下方直接编辑 `UUID`（8-byte Base64）。
- 实时显示 `UID`（3位 shortID）与 `UID(SHA1)`。
- 支持保存多个 UUID（备注、快速切换）。
- 支持按服务器 `ip:port` 自动切换 UUID。
- 内置 UID 数据库：
  - 设置里可执行“穷举所有3位UID”构建本地数据库（支持设置轮数）。
  - 支持从剪贴板导入他人数据库，按 `三位UID + 长id` 去重。
  - 设置中查询会列出同一三位UID对应的所有长id，并可逐条复制。
  - 构建后可在设置中查询，也可在加入游戏界面直接查库。
- 内置 GitHub 更新检测：自动检查新版本、显示更新说明，并支持在游戏内下载更新包。

## 更新日志

### v1.4.1

- 修复穷举进度窗口崩溃：改用正确的原生 `Bar` 类。
- 修复部分情况下数据库清单缺失时无法读取：启动时可从分片文件回退加载，并在统计信息中显示数据库路径。

### v1.4.0

- 修复 UID 穷举完成后在保存阶段可能出现的卡死问题（保存改为后台执行，并降低写入内存占用）。
- 新增“穷举轮数”输入（<100）：自动多轮穷举并合并写入本地数据库。
- 穷举进度改用游戏原生进度条：文本居中、仅显示百分比。

### v1.3.2

- UID 数据库存储改为分片写入（每片最多 64MB），并支持分片读取。
- `uuidmanager.uiddb.json` 改为可读清单格式（带缩进与换行），便于人工查看。
- 文件导入支持 64MB 以上数据库（分片清单 + 分片文件），且始终以“增量合并”方式写入本机数据库。

### v1.3.1

- 修复 GitHub 最新版本高于本地时，部分情况下不会弹出更新提示的问题。
- 增加更新提示兜底逻辑：即使更新弹窗异常，也会给出可直接打开的下载链接。

## 安装

将 `zip` 或 `jar` 产物导入 Mindustry 模组目录：

- 推荐：`构建/uuidmanager-1.4.1.zip`
- 备用：`构建/uuidmanager-1.4.1.jar`

## 本地构建

在 `uuidManager_repo/` 目录执行：

```bash
./gradlew distAll
```

产物：

- `build/libs/uuidmanager.zip`
- `build/libs/uuidmanager.jar`
- 以及根目录 `构建/` 下的版本化副本。

## 注意

- 该模组为客户端侧工具，UUID 相同不等于自动获得他人管理权限。
- 审批码首次通过后会缓存，本地后续不再重复输入。
